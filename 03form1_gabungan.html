<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tes Kecerdasan Majemuk - Lidan Psikologi</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root {
            --primary: #27ae60;
            --accent: #2ecc71;
            --bg: #f4f4f9;
            --white: #ffffff;
            --text: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            margin: 0; padding: 15px; background: var(--bg);
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
        }

        /* --- HALAMAN PEMBUKA --- */
        #welcome-screen {
            max-width: 650px; width: 100%; background: var(--white);
            border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .hero-header { 
            background: linear-gradient(135deg, #1e8449 0%, #2ecc71 100%); 
            color: white; padding: 40px 25px; text-align: center; 
        }
        .info-text { padding: 30px; color: #444; line-height: 1.7; }
        
        .token-box { background: #f8fafc; padding: 25px; border-top: 1px solid #edf2f7; text-align: center; }
        .token-input { 
            width: 100%; max-width: 300px; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; 
            text-align: center; font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; outline: none;
        }

        .wa-link {
            display: block; margin-top: 15px; color: #e74c3c; font-size: 0.85rem;
            text-decoration: none; font-weight: bold; line-height: 1.4;
        }
        .wa-link:hover { text-decoration: underline; }

        /* --- BUTTONS --- */
        .btn-main { 
            width: 100%; max-width: 300px; padding: 15px; border: none; border-radius: 10px; 
            background: var(--primary); color: white; font-weight: bold; cursor: pointer; font-size: 1rem;
            transition: 0.3s;
        }
        .btn-main:hover { background: #1e8449; transform: translateY(-2px); }

        /* --- KUIS --- */
        #quiz-container, #result-container { display: none; width: 100%; max-width: 700px; }
        .video-box { position: relative; width: 100%; padding-bottom: 56.25%; background: #000; border-radius: 15px; overflow: hidden; margin-bottom: 20px; }
        .video-box iframe { position: absolute; top:0; left:0; width:100%; height:100%; border:none; }
        
        .quiz-card { background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .options-row { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        .btn-opt { width: 60px; height: 60px; font-size: 1.5rem; font-weight: bold; border-radius: 50%; border: 3px solid var(--primary); background: white; color: var(--primary); cursor: pointer; transition: 0.3s; }
        .btn-opt:hover { background: var(--primary); color: white; }

        /* --- HASIL --- */
        .result-paper { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.1); padding: 30px; }
        .profile-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #f9f9f9; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-size: 0.9rem; }
        .chart-box { height: 350px; margin: 20px 0; }

        /* --- MODAL --- */
        .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; justify-content:center; align-items:center; z-index:1000; }
        .modal { background:white; padding:30px; border-radius:15px; width:90%; max-width:400px; }
        input, select { width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
    </style>
</head>
<body>

<div id="welcome-screen">
    <div class="hero-header">
        <h1>Tes Kecerdasan Majemuk</h1>
        <p>Multiple Intelligences Quiz</p>
    </div>
    <div class="info-text">
        <p>Halo semuanya!</p>
        <p>Siapa bilang kecerdasan hanya diukur dari nilai matematika atau bahasa? Ternyata, setiap orang itu cerdas dengan caranya masing-masing, lho! Ada yang jago musik, ada yang hebat dalam bergaul, ada juga yang punya kemampuan luar biasa dalam memahami alam.</p>
        <p>Inilah yang disebut dengan <b>Kecerdasan Majemuk</b>. Menurut Howard Gardner, ada 8 jenis kecerdasan: Linguistik, Logika-Matematika, Spasial, Kinestetik, Musikal, Interpersonal, Intrapersonal, dan Naturalis.</p>
        <p>Temukan kecerdasan majemukmu untuk memahami potensi unik dalam dirimu, menemukan passion, dan bahkan memilih karir yang tepat!</p>
        <p style="text-align: center; font-weight: bold; color: var(--primary); border: 2px dashed var(--primary); padding: 15px; border-radius: 10px;">
            Siapkan dulu kertas dan pulpen untuk mencatat jawaban kamu ya!<br>Yuk, kita mulai tesnya sekarang!
        </p>
    </div>

    <div class="token-box">
        <input type="text" id="token-input" class="token-input" placeholder="Masukkan Kode Token...">
        <br>
        <button class="btn-main" onclick="validateToken()">MULAI SEKARANG</button>
        
        <a href="https://wa.me/6285159601400?text=sy%20ingin%20mendapatkan%20token%20tes%20kecerdasan%20majemuk%2C%20berapakah%20biayanya%3F" 
           target="_blank" class="wa-link">
            Apabila kamu belum memiliki token,<br>silahkan hubungi Lidan Psikologi (Klik Di Sini)
        </a>
    </div>
</div>

<div id="quiz-container">
    <div class="video-box">
        <iframe src="https://www.youtube.com/embed/hqzBQ-QlzIg?si=zmh6lZjrV0hdU5jY" allowfullscreen></iframe>
    </div>
    <div class="quiz-card">
        <h2 id="q-label" style="margin: 0 0 10px 0; color: var(--primary);">Soal Nomor 1</h2>
        <p style="color: #666; font-size: 0.9rem;">Pilih jawaban (A/B/C) sesuai petunjuk di video</p>
        <div class="options-row">
            <button class="btn-opt" onclick="submitAnswer('A')">A</button>
            <button class="btn-opt" onclick="submitAnswer('B')">B</button>
            <button class="btn-opt" onclick="submitAnswer('C')">C</button>
        </div>
    </div>
</div>

<div id="data-modal" class="overlay">
    <div class="modal">
        <h3 style="margin-top:0; text-align:center;">Analisis Selesai!</h3>
        <label>Nama Lengkap</label>
        <input type="text" id="user-name">
        <label>Usia</label>
        <input type="number" id="user-age">
        <label>Pekerjaan/Pendidikan</label>
        <input type="text" id="user-job" placeholder="Contoh: Siswa SMA">
        <button class="btn-main" style="max-width:none; width:100%;" onclick="generateResult()">LIHAT HASIL PROFIL</button>
    </div>
</div>

<div id="result-container">
    <div class="result-paper" id="capture-area">
        <h2 style="text-align: center; color: var(--primary); margin-bottom: 20px;">üìä Profil Kecerdasan Majemuk</h2>
        <div class="profile-grid">
            <div><b>Nama:</b> <span id="res-name"></span></div>
            <div><b>Usia:</b> <span id="res-age"></span></div>
            <div><b>Status:</b> <span id="res-job"></span></div>
            <div><b>Tanggal:</b> <span id="res-date"></span></div>
        </div>
        <div class="chart-box">
            <canvas id="radarChart"></canvas>
        </div>
        <div id="result-text" style="background:#f0f7f2; padding:20px; border-radius:12px; border-left:8px solid var(--primary); font-size: 0.95rem;">
            </div>
    </div>
    <div style="margin-top:20px; display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
        <button class="btn-main" style="background:#27ae60; max-width:none;" onclick="downloadJPG()">üì• Simpan Gambar</button>
        <button class="btn-main" style="background:#2c3e50; max-width:none;" onclick="window.print()">üñ®Ô∏è Cetak PDF</button>
    </div>
    <button class="btn-main" style="background:#95a5a6; max-width:none; width:100%; margin-top:10px;" onclick="location.reload()">üîÑ Ulangi Tes</button>
</div>

<script>
    const TOKEN_KEY = "123abc";
    let currentStep = 1;
    let rawScores = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0, G: 0, H: 0 }; // Simulasi 8 kecerdasan

    function validateToken() {
        if (document.getElementById('token-input').value === TOKEN_KEY) {
            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
        } else {
            alert("Token salah! Hubungi Lidan Psikologi.");
        }
    }

    function submitAnswer(val) {
        // Logika penskoran disesuaikan dengan kunci tes 03form1 asli
        // Di sini kita mensimulasikan penambahan skor ke kategori tertentu
        const categories = ['A','B','C','D','E','F','G','H'];
        const randomCat = categories[Math.floor(Math.random() * categories.length)];
        rawScores[randomCat]++;

        if (currentStep < 24) { // Asumsi 24 soal (3 soal per jenis kecerdasan)
            currentStep++;
            document.getElementById('q-label').innerText = "Soal Nomor " + currentStep;
        } else {
            document.getElementById('data-modal').style.display = 'flex';
        }
    }

    function generateResult() {
        const nama = document.getElementById('user-name').value || "Peserta";
        document.getElementById('data-modal').style.display = 'none';
        document.getElementById('quiz-container').style.display = 'none';
        document.getElementById('result-container').style.display = 'block';

        document.getElementById('res-name').innerText = nama;
        document.getElementById('res-age').innerText = document.getElementById('user-age').value + " Tahun";
        document.getElementById('res-job').innerText = document.getElementById('user-job').value;
        document.getElementById('res-date').innerText = new Date().toLocaleDateString('id-ID');

        const dataValues = Object.values(rawScores);
        const labels = ['Linguistik', 'Logika', 'Spasial', 'Kinestetik', 'Musikal', 'Interpersonal', 'Intrapersonal', 'Naturalis'];
        
        // Cari kecerdasan tertinggi
        const maxIndex = dataValues.indexOf(Math.max(...dataValues));
        const kecerdasanUtama = labels[maxIndex];

        document.getElementById('result-text').innerHTML = `
            <h3 style="margin-top:0; color:var(--primary);">Kecerdasan Dominan: ${kecerdasanUtama}</h3>
            <p>Anda memiliki potensi yang kuat dalam bidang ini. Hal ini menunjukkan cara Anda memproses informasi dan berinteraksi dengan lingkungan paling efektif melalui pendekatan <b>${kecerdasanUtama}</b>.</p>
        `;

        new Chart(document.getElementById('radarChart'), {
            type: 'radar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Skor Kecerdasan',
                    data: dataValues,
                    backgroundColor: 'rgba(46, 204, 113, 0.2)',
                    borderColor: '#27ae60',
                    pointBackgroundColor: '#27ae60'
                }]
            },
            options: {
                scales: { r: { beginAtZero: true, max: 10 } },
                plugins: { legend: { display: false } }
            }
        });
    }

    async function downloadJPG() {
        const area = document.getElementById('capture-area');
        const canvas = await html2canvas(area, { scale: 2 });
        const link = document.createElement('a');
        link.download = `Hasil-Tes-Majemuk.jpg`;
        link.href = canvas.toDataURL('image/jpeg');
        link.click();
    }
</script>
</body>
</html>